# パケットキャプチャアプライアンス

## 機能
* LANが2ポート以上ある場合、ブリッジ接続に構成して流れるトラフィックをキャプチャする
* LANが１ポートの場合は、ミラーリング機能搭載ハブなどでパケットを本気に向けることでキャプチャする
* キャプチャしたパケットの分析機能
* 死活監視、トラフィック監視のためにZabbix搭載
* Google Chrome / Windows Update / debianレポジトリのキャッシュ機能(DNSアドレスをアプライアンスに向けることで機能する)
* キャッシュした通信の分析機能
* IPアドレス変更などの管理のためのWEB管理画面としてcockpitを搭載
* リモート管理用にtailscaleを搭載

## 仕様
* DHCPの場合は、キャッシュ機能（DNS、プロキシ）は動作しない

## 使用方法

```
$ tool/deploy.sh \
  -i <現在のIPアドレス> \
  -u <SSHユーザー名(規定値：user)> \
  -p <SSHパスワード(規定値:password)> \
  -v <バージョン(規定値:最新のtag+)> 
```
例）
```
$ tool/deploy.sh -i 192.168.11.123 
```

## TODO
* MySQL パーティショニング処理追加